/* DJ */
var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function s(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}const l="undefined"!=typeof window;let c=l?()=>window.performance.now():()=>Date.now(),u=l?t=>requestAnimationFrame(t):t;const d=new Set;function f(t){d.forEach((e=>{e.c(t)||(d.delete(e),e.f())})),0!==d.size&&u(f)}function m(t){let e;return 0===d.size&&u(f),{promise:new Promise((n=>{d.add(e={c:t,f:n})})),abort(){d.delete(e)}}}function p(t,e){t.appendChild(e)}function g(t,e,n){const o=h(t);if(!o.getElementById(e)){const t=w("style");t.id=e,t.textContent=n,b(o,t)}}function h(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function v(t){const e=w("style");return b(h(t),e),e.sheet}function b(t,e){return p(t.head||t,e),e.sheet}function y(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode&&t.parentNode.removeChild(t)}function w(t){return document.createElement(t)}function k(t){return document.createTextNode(t)}function x(){return k(" ")}function j(){return k("")}function M(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function _(t,e){t.wholeText!==(e=""+e)&&(t.data=e)}const E=new Map;let q,A=0;function z(t,e,n,o,r,s,i,a=0){const l=16.666/o;let c="{\n";for(let t=0;t<=1;t+=l){const o=e+(n-e)*s(t);c+=100*t+`%{${i(o,1-o)}}\n`}const u=c+`100% {${i(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${a}`,f=h(t),{stylesheet:m,rules:p}=E.get(f)||function(t,e){const n={stylesheet:v(e),rules:{}};return E.set(t,n),n}(f,t);p[d]||(p[d]=!0,m.insertRule(`@keyframes ${d} ${u}`,m.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${d} ${o}ms linear ${r}ms 1 both`,A+=1,d}function D(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),A-=r,A||u((()=>{A||(E.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&$(e)})),E.clear())})))}function P(t){q=t}function S(t){(function(){if(!q)throw new Error("Function called outside component initialization");return q})().$$.on_mount.push(t)}const N=[],C=[],L=[],T=[],O=Promise.resolve();let I=!1;function R(t){L.push(t)}const Y=new Set;let U,B=0;function H(){const t=q;do{for(;B<N.length;){const t=N[B];B++,P(t),X(t.$$)}for(P(null),N.length=0,B=0;C.length;)C.pop()();for(let t=0;t<L.length;t+=1){const e=L[t];Y.has(e)||(Y.add(e),e())}L.length=0}while(N.length);for(;T.length;)T.pop()();I=!1,Y.clear(),P(t)}function X(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(R)}}function F(){return U||(U=Promise.resolve(),U.then((()=>{U=null}))),U}function G(t,e,n){t.dispatchEvent(function(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,o,e),r}(`${e?"intro":"outro"}${n}`))}const W=new Set;let J;function K(){J={r:0,c:[],p:J}}function Q(){J.r||r(J.c),J=J.p}function V(t,e){t&&t.i&&(W.delete(t),t.i(e))}function Z(t,e,n,o){if(t&&t.o){if(W.has(t))return;W.add(t),J.c.push((()=>{W.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}const tt={duration:0};function et(n,o,r){let i,a,l=o(n,r),u=!1,d=0;function f(){i&&D(n,i)}function p(){const{delay:o=0,duration:r=300,easing:s=e,tick:p=t,css:g}=l||tt;g&&(i=z(n,0,1,r,o,s,g,d++)),p(0,1);const h=c()+o,v=h+r;a&&a.abort(),u=!0,R((()=>G(n,!0,"start"))),a=m((t=>{if(u){if(t>=v)return p(1,0),G(n,!0,"end"),f(),u=!1;if(t>=h){const e=s((t-h)/r);p(e,1-e)}}return u}))}let g=!1;return{start(){g||(g=!0,D(n),s(l)?(l=l(),F().then(p)):p())},invalidate(){g=!1},end(){u&&(f(),u=!1)}}}function nt(n,o,i){let a,l=o(n,i),u=!0;const d=J;function f(){const{delay:o=0,duration:s=300,easing:i=e,tick:f=t,css:p}=l||tt;p&&(a=z(n,1,0,s,o,i,p));const g=c()+o,h=g+s;R((()=>G(n,!1,"start"))),m((t=>{if(u){if(t>=h)return f(0,1),G(n,!1,"end"),--d.r||r(d.c),!1;if(t>=g){const e=i((t-g)/s);f(1-e,e)}}return u}))}return d.r+=1,s(l)?F().then((()=>{l=l(),f()})):f(),{end(t){t&&l.tick&&l.tick(1,0),u&&(a&&D(n,a),u=!1)}}}function ot(n,o,i,a){let l=o(n,i),u=a?0:1,d=null,f=null,p=null;function g(){p&&D(n,p)}function h(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function v(o){const{delay:s=0,duration:i=300,easing:a=e,tick:v=t,css:b}=l||tt,y={start:c()+s,b:o};o||(y.group=J,J.r+=1),d||f?f=y:(b&&(g(),p=z(n,u,o,i,s,a,b)),o&&v(0,1),d=h(y,i),R((()=>G(n,o,"start"))),m((t=>(f&&t>f.start&&(d=h(f,i),f=null,G(n,d.b,"start"),b&&(g(),p=z(n,u,d.b,d.duration,0,a,l.css))),d&&(t>=d.end?(v(u=d.b,1-u),G(n,d.b,"end"),f||(d.b?g():--d.group.r||r(d.group.c)),d=null):t>=d.start&&(u=d.a+d.d*a((t-d.start)/d.duration),v(u,1-u))),!(!d&&!f)))))}return{run(t){s(l)?F().then((()=>{l=l(),v(t)})):v(t)},end(){g(),d=f=null}}}function rt(t){t&&t.c()}function st(t,e,o,i){const{fragment:a,after_update:l}=t.$$;a&&a.m(e,o),i||R((()=>{const e=t.$$.on_mount.map(n).filter(s);t.$$.on_destroy?t.$$.on_destroy.push(...e):r(e),t.$$.on_mount=[]})),l.forEach(R)}function it(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function at(e,n,s,i,a,l,c,u=[-1]){const d=q;P(e);const f=e.$$={fragment:null,ctx:[],props:l,update:t,not_equal:a,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};c&&c(f.root);let m=!1;if(f.ctx=s?s(e,n.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&a(f.ctx[t],f.ctx[t]=r)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](r),m&&function(t,e){-1===t.$$.dirty[0]&&(N.push(t),I||(I=!0,O.then(H)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],f.update(),m=!0,r(f.before_update),f.fragment=!!i&&i(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach($)}else f.fragment&&f.fragment.c();n.intro&&V(e.$$.fragment),st(e,n.target,n.anchor,n.customElement),H()}P(d)}class lt{$destroy(){it(this,1),this.$destroy=t}$on(e,n){if(!s(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){this.$$set&&0!==Object.keys(t).length&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ct=[];function ut(e,n=t){let o;const r=new Set;function s(t){if(i(e,t)&&(e=t,o)){const t=!ct.length;for(const t of r)t[1](),ct.push(t,e);if(t){for(let t=0;t<ct.length;t+=2)ct[t][0](ct[t+1]);ct.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(i,a=t){const l=[i,a];return r.add(l),1===r.size&&(o=n(s)||t),i(e),()=>{r.delete(l),0===r.size&&(o(),o=null)}}}}function dt(t){const e=t-1;return e*e*e+1}function ft(t){return"[object Date]"===Object.prototype.toString.call(t)}function mt(t,e,n,o){if("number"==typeof n||ft(n)){const r=o-n,s=(n-e)/(t.dt||1/60),i=(s+(t.opts.stiffness*r-t.opts.damping*s)*t.inv_mass)*t.dt;return Math.abs(i)<t.opts.precision&&Math.abs(r)<t.opts.precision?o:(t.settled=!1,ft(n)?new Date(n.getTime()+i):n+i)}if(Array.isArray(n))return n.map(((r,s)=>mt(t,e[s],n[s],o[s])));if("object"==typeof n){const r={};for(const s in n)r[s]=mt(t,e[s],n[s],o[s]);return r}throw new Error(`Cannot spring ${typeof n} values`)}function pt(t,e={}){const n=ut(t),{stiffness:o=.15,damping:r=.8,precision:s=.01}=e;let i,a,l,u=t,d=t,f=1,p=0,g=!1;function h(e,o={}){d=e;const r=l={};return null==t||o.hard||v.stiffness>=1&&v.damping>=1?(g=!0,i=c(),u=e,n.set(t=d),Promise.resolve()):(o.soft&&(p=1/(60*(!0===o.soft?.5:+o.soft)),f=0),a||(i=c(),g=!1,a=m((e=>{if(g)return g=!1,a=null,!1;f=Math.min(f+p,1);const o={inv_mass:f,opts:v,settled:!0,dt:60*(e-i)/1e3},r=mt(o,u,t,d);return i=e,u=t,n.set(t=r),o.settled&&(a=null),!o.settled}))),new Promise((t=>{a.promise.then((()=>{r===l&&t()}))})))}const v={set:h,update:(e,n)=>h(e(d,t),n),subscribe:n.subscribe,stiffness:o,damping:r,precision:s};return v}function gt(t,{delay:n=0,duration:o=400,easing:r=e}={}){const s=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:r,css:t=>"opacity: "+t*s}}function ht(t,{delay:e=0,duration:n=400,easing:o=dt,x:r=0,y:s=0,opacity:i=0}={}){const a=getComputedStyle(t),l=+a.opacity,c="none"===a.transform?"":a.transform,u=l*(1-i);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${c} translate(${(1-t)*r}px, ${(1-t)*s}px);\n\t\t\topacity: ${l-u*e}`}}const vt=ut({x:0,y:0}),bt=ut(),yt=ut({diamonds:0,plants:0,gotDiamonds:0,gotPlants:0,current:0}),$t=16,wt=330,kt=ut(!1);function xt(t){g(t,"svelte-1d3eml",'.ruby.svelte-1d3eml{position:absolute;background:url("./assets/diamond.svg") no-repeat center center;width:5vmin;height:5vmin;transition:animation 1s}.show.svelte-1d3eml{-webkit-animation:svelte-1d3eml-filter-animation 3s infinite;animation:svelte-1d3eml-filter-animation 3s infinite}@-webkit-keyframes svelte-1d3eml-filter-animation{0%{-webkit-filter:saturate(3) hue-rotate(0deg)}100%{-webkit-filter:saturate(3) hue-rotate(360deg)}}@keyframes svelte-1d3eml-filter-animation{0%{filter:saturate(3) hue-rotate(0deg)}100%{filter:saturate(3) hue-rotate(360deg)}}')}function jt(t){let e,n,o,r,s;return{c(){e=w("div"),M(e,"class",n="ruby "+(t[0]?"show":"")+" svelte-1d3eml")},m(n,o){y(n,e,o),t[3](e),s=!0},p(o,[r]){t=o,(!s||1&r&&n!==(n="ruby "+(t[0]?"show":"")+" svelte-1d3eml"))&&M(e,"class",n)},i(t){s||(R((()=>{r&&r.end(1),o=et(e,ht,{delay:750*Math.random(),duration:700,x:25*Math.sign(Math.random()-.5),y:25*Math.sign(Math.random()-.5)}),o.start()})),s=!0)},o(t){o&&o.invalidate(),r=nt(e,ht,{duration:2e3,x:50,y:-50}),s=!1},d(n){n&&$(e),t[3](null),n&&r&&r.end()}}}function Mt(t,e,n){let o,{id:r}=e,s=!1;return S((()=>{n(1,o.style.left=r%$t*5+"vmin",o),n(1,o.style.top=5*Math.floor(r/$t)+"vmin",o),setTimeout((()=>n(0,s=!0)),5e3*Math.random())})),t.$$set=t=>{"id"in t&&n(2,r=t.id)},[s,o,r,function(t){C[t?"unshift":"push"]((()=>{o=t,n(1,o)}))}]}class _t extends lt{constructor(t){super(),at(this,t,Mt,jt,i,{id:2},xt)}}function Et(t){g(t,"svelte-jql2qn",'.plant.svelte-jql2qn{position:absolute;background:#28cf28;background:url("./assets/grass.png") no-repeat center center;background-size:cover;width:5vmin;height:5vmin;border-radius:100%;transition:border-radius 1s}.have-left.svelte-jql2qn{border-bottom-left-radius:0;border-top-left-radius:0}.have-right.svelte-jql2qn{border-bottom-right-radius:0;border-top-right-radius:0}.have-top.svelte-jql2qn{border-top-left-radius:0;border-top-right-radius:0}.have-bottom.svelte-jql2qn{border-bottom-left-radius:0;border-bottom-right-radius:0}')}function qt(t){let e,n,o,r,s;return{c(){e=w("div"),M(e,"class",n="plant "+(t[2]?"have-left":"")+" "+(t[4]?"have-right":"")+" "+(t[3]?"have-top":"")+" "+(t[5]?"have-bottom":"")+" svelte-jql2qn")},m(n,o){y(n,e,o),t[7](e),s=!0},p(o,[r]){t=o,(!s||60&r&&n!==(n="plant "+(t[2]?"have-left":"")+" "+(t[4]?"have-right":"")+" "+(t[3]?"have-top":"")+" "+(t[5]?"have-bottom":"")+" svelte-jql2qn"))&&M(e,"class",n)},i(n){s||(R((()=>{r&&r.end(1),o=et(e,gt,{delay:t[0],duration:500,x:2*Math.sign(Math.random()-.5),y:2*Math.sign(Math.random()-.5)}),o.start()})),s=!0)},o(t){o&&o.invalidate(),r=nt(e,gt,{duration:125,x:0,y:10}),s=!1},d(n){n&&$(e),t[7](null),n&&r&&r.end()}}}function At(t,e,n){let o;a(t,bt,(t=>n(6,o=t)));let r,s,i,l,c,{id:u}=e;return S((()=>{n(1,r.style.left=u%$t*5+"vmin",r),n(1,r.style.top=5*Math.floor(u/$t)+"vmin",r)})),t.$$set=t=>{"id"in t&&n(0,u=t.id)},t.$$.update=()=>{65&t.$$.dirty&&(n(2,s=u%$t>0&&200==o[u-1]),n(4,l=u%$t<15&&200==o[u+1]),n(3,i=200==o[u-$t]),n(5,c=200==o[u+$t]))},[u,r,s,i,l,c,o,function(t){C[t?"unshift":"push"]((()=>{r=t,n(1,r)}))}]}class zt extends lt{constructor(t){super(),at(this,t,At,qt,i,{id:0},Et)}}function Dt(t){g(t,"svelte-14zizob",".ground.svelte-14zizob{width:5vmin;height:5vmin}")}function Pt(){let e;return{c(){e=w("div"),M(e,"class","ground svelte-14zizob")},m(t,n){y(t,e,n)},p:t,i:t,o:t,d(t){t&&$(e)}}}function St(t,e,n){let{id:o}=e,{mode:r}=e;return t.$$set=t=>{"id"in t&&n(0,o=t.id),"mode"in t&&n(1,r=t.mode)},[o,r]}class Nt extends lt{constructor(t){super(),at(this,t,St,Pt,i,{id:0,mode:1},Dt)}}function Ct(t){g(t,"svelte-gg5k96",'.personage.svelte-gg5k96{position:absolute;background:url("./assets/personage.png") no-repeat;background-position:-1% center;background-size:cover;width:5vmin;height:5vmin;transition:background-position 0.5s, left 0.33s linear, top 0.33s linear;animation:svelte-gg5k96-filter-stand 1s infinite;transform-origin:bottom}.go.svelte-gg5k96{-webkit-animation:svelte-gg5k96-filter-animation 1s infinite;animation:svelte-gg5k96-filter-animation 1s infinite}.go-invert.svelte-gg5k96{transform:scaleX(-1)}.reset.svelte-gg5k96{animation:none !important;transition:none !important}@keyframes svelte-gg5k96-filter-stand{0%{transform:scaleY(1)}50%{transform:scaleY(1.05)}100%{transform:scaleY(1)}}@-webkit-keyframes svelte-gg5k96-filter-animation{0%{background-position:32% center}24%{background-position:32% center}25%{background-position:64% center}49%{background-position:64% center}50%{background-position:98% center}74%{background-position:98% center}75%{background-position:64% center}100%{background-position:64% center}}@keyframes svelte-gg5k96-filter-animation{0%{background-position:32% center}24%{background-position:32% center}25%{background-position:64% center}49%{background-position:64% center}50%{background-position:98% center}74%{background-position:98% center}75%{background-position:64% center}100%{background-position:64% center}}')}function Lt(e){let n,o=function(t){let e,n;return{c(){e=w("div"),M(e,"class",n="personage "+(t[3]?"reset":"")+" "+(t[2]?"go":"")+" "+(t[1]?"go-invert":"")+" svelte-gg5k96")},m(n,o){y(n,e,o),t[4](e)},p(t,o){14&o&&n!==(n="personage "+(t[3]?"reset":"")+" "+(t[2]?"go":"")+" "+(t[1]?"go-invert":"")+" svelte-gg5k96")&&M(e,"class",n)},d(n){n&&$(e),t[4](null)}}}(e);return{c(){o&&o.c(),n=j()},m(t,e){o&&o.m(t,e),y(t,n,e)},p(t,[e]){o.p(t,e)},i:t,o:t,d(t){o&&o.d(t),t&&$(n)}}}function Tt(t,e,n){let o,r,s,i,l,c,u,d,f,m;a(t,yt,(t=>n(14,o=t))),a(t,bt,(t=>n(15,r=t))),a(t,kt,(t=>n(3,s=t)));let p,g=!1,h=!1;kt.subscribe((t=>{console.log("RESET",t),t&&setTimeout((()=>kt.set(!1)),wt)})),vt.subscribe((t=>{l=t.x,c=t.y,null==u&&(u=l),null==d&&(d=c),i&&(n(0,i.style.left=5*l+"vmin",i),n(0,i.style.top=5*c+"vmin",i),u==l&&d==c||(l<u?n(1,g=!0):l>u&&n(1,g=!1),n(2,h=!0),p&&clearTimeout(p),p=setTimeout((()=>n(2,h=!1)),500),u=l,d=c))})),S((()=>{n(0,i.style.left=5*l+"vmin",i),n(0,i.style.top=5*c+"vmin",i)}));const v=(t,e)=>{l=Math.min(Math.max(0,l+=t),15),c=Math.min(Math.max(0,c+=e),15),vt.set({x:l,y:c});let n=r;const s=n[l+c*$t];if(o.gotDiamonds<o.diamonds&&s>100){let t=o;switch(s){case 200:t.gotPlants+=1,t.current=Math.max(t.current-t.plants,0);break;case 300:t.gotDiamonds+=1,t.current=t.current+t.diamonds}yt.set(t)}n[l+c*$t]=100,bt.set(n)};let b,y;const $=()=>{clearInterval(b),b=void 0},w=()=>{clearInterval(y),y=void 0},k={ArrowLeft:()=>{b||y||(b=setInterval((()=>{v(-1,0)}),wt),v(-1,0))},ArrowRight:()=>{b||y||(b=setInterval((()=>{v(1,0)}),wt),v(1,0))},ArrowUp:()=>{b||y||(y=setInterval((()=>{v(0,-1)}),wt),v(0,-1))},ArrowDown:()=>{b||y||(y=setInterval((()=>{v(0,1)}),wt),v(0,1))}},x={ArrowLeft:$,ArrowRight:$,ArrowUp:w,ArrowDown:w};return document.addEventListener("keydown",(t=>{k[t.key]?.()})),document.addEventListener("keyup",(t=>{x[t.key]?.()})),document.addEventListener("touchstart",(t=>{f={x:Math.floor(t.touches[0].clientX),y:Math.floor(t.touches[0].clientY)}})),document.addEventListener("touchmove",(t=>{m={x:Math.floor(t.touches[0].clientX),y:Math.floor(t.touches[0].clientY)},m.x<f.x-5&&k.ArrowLeft(),m.x>f.x+5&&k.ArrowRight(),m.y<f.y-5&&k.ArrowUp(),m.y>f.y+5&&k.ArrowDown()})),document.addEventListener("touchend",(()=>{$(),w()})),[i,g,h,s,function(t){C[t?"unshift":"push"]((()=>{i=t,n(0,i)}))}]}class Ot extends lt{constructor(t){super(),at(this,t,Tt,Lt,i,{},Ct)}}function It(t){g(t,"svelte-1qk813y",".field.svelte-1qk813y{position:relative;width:calc(16 * 5vmin);height:calc(16 * 5vmin);border-radius:1vmin;display:flex;flex-direction:row;flex-wrap:wrap;overflow:visible;box-shadow:rgb(10, 10, 10) 0vmin 0vmin 10vmin}.overlay.svelte-1qk813y{position:absolute;width:100%;height:100%}")}function Rt(t,e,n){const o=t.slice();return o[1]=e[n],o[3]=n,o}function Yt(t){let e,n;return e=new Nt({props:{id:t[3],mode:t[1]}}),{c(){rt(e.$$.fragment)},m(t,o){st(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.mode=t[1]),e.$set(o)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function Ut(t){let e,n;return e=new zt({props:{id:t[3],mode:t[1]}}),{c(){rt(e.$$.fragment)},m(t,o){st(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.mode=t[1]),e.$set(o)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function Bt(t){let e,n;return e=new _t({props:{id:t[3],mode:t[1]}}),{c(){rt(e.$$.fragment)},m(t,o){st(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.mode=t[1]),e.$set(o)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function Ht(t){let e,n,o,r;const s=[Bt,Ut,Yt],i=[];function a(t){return 300==t[1]?0:200==t[1]?1:2}return e=a(t),n=i[e]=s[e](t),{c(){n.c(),o=j()},m(t,n){i[e].m(t,n),y(t,o,n),r=!0},p(t,r){let l=e;e=a(t),e===l?i[e].p(t,r):(K(),Z(i[l],1,1,(()=>{i[l]=null})),Q(),n=i[e],n?n.p(t,r):(n=i[e]=s[e](t),n.c()),V(n,1),n.m(o.parentNode,o))},i(t){r||(V(n),r=!0)},o(t){Z(n),r=!1},d(t){i[e].d(t),t&&$(o)}}}function Xt(t){let e,n,o,r,s,i=t[0],a=[];for(let e=0;e<i.length;e+=1)a[e]=Ht(Rt(t,i,e));const l=t=>Z(a[t],1,1,(()=>{a[t]=null}));return r=new Ot({props:{id:0,mode:0}}),{c(){e=w("div");for(let t=0;t<a.length;t+=1)a[t].c();n=x(),o=w("div"),rt(r.$$.fragment),M(o,"class","overlay svelte-1qk813y"),M(e,"class","field svelte-1qk813y")},m(t,i){y(t,e,i);for(let t=0;t<a.length;t+=1)a[t].m(e,null);p(e,n),p(e,o),st(r,o,null),s=!0},p(t,[o]){if(1&o){let r;for(i=t[0],r=0;r<i.length;r+=1){const s=Rt(t,i,r);a[r]?(a[r].p(s,o),V(a[r],1)):(a[r]=Ht(s),a[r].c(),V(a[r],1),a[r].m(e,n))}for(K(),r=i.length;r<a.length;r+=1)l(r);Q()}},i(t){if(!s){for(let t=0;t<i.length;t+=1)V(a[t]);V(r.$$.fragment,t),s=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)Z(a[t]);Z(r.$$.fragment,t),s=!1},d(t){t&&$(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(a,t),it(r)}}}function Ft(t,e,n){let o;return a(t,bt,(t=>n(0,o=t))),[o]}class Gt extends lt{constructor(t){super(),at(this,t,Ft,Xt,i,{},It)}}function Wt(t){g(t,"svelte-jeasp9",':root{--widget-border-radius:5px;--widget-background:rgba(16, 16, 16, 0.8);--widget-background-blur-amount:10px;--widget-background-blur:blur(10px);--color-title:rgb(186, 225, 225);--color-max:#fff;--color-middle:#aaa;--color-dark:gray;--color-basic:#eee;--color-active:rgb(200, 200, 137);--color-warning:#f6f18b;--color-border:silver}html{-webkit-text-size-adjust:100%}*{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.container.svelte-jeasp9.svelte-jeasp9{background:#1b2229;background:url("./assets/concrete.jpg") center center;background-size:15vmin;background-repeat:repeat;display:flex;width:100vw;height:100vh;align-items:center;justify-content:center}.header.svelte-jeasp9.svelte-jeasp9{display:flex;position:absolute;top:0;width:100%;justify-content:space-between;font-family:"Press Start 2P", cursive;font-size:150%}.header.svelte-jeasp9>.svelte-jeasp9{color:#f0f0f0;padding:1em}.won.svelte-jeasp9.svelte-jeasp9{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100vw;height:100vh;backdrop-filter:blur(1vmin);-webkit-backdrop-filter:blur(1vmin);font-family:"Press Start 2P", cursive;color:#fff;text-align:center;z-index:1}.won.svelte-jeasp9 .title.svelte-jeasp9{font-size:clamp(1rem, 3vw, 3.5rem)}.won.svelte-jeasp9 .score.svelte-jeasp9{font-size:clamp(2rem, 6vw, 7rem)}')}function Jt(t){let e,n,o,r,s,i,a,l=t[0].current.pad(5)+"";return{c(){e=w("div"),n=w("div"),n.innerHTML="CONGRATULATIONS!<br/>\n        YOU WON!",o=x(),r=w("div"),s=k(l),M(n,"class","title svelte-jeasp9"),M(r,"class","score svelte-jeasp9"),M(e,"class","won svelte-jeasp9")},m(t,i){y(t,e,i),p(e,n),p(e,o),p(e,r),p(r,s),a=!0},p(t,e){(!a||1&e)&&l!==(l=t[0].current.pad(5)+"")&&_(s,l)},i(t){a||(R((()=>{i||(i=ot(e,ht,{duration:1e3,x:50,y:-50},!0)),i.run(1)})),a=!0)},o(t){i||(i=ot(e,ht,{duration:1e3,x:50,y:-50},!1)),i.run(0),a=!1},d(t){t&&$(e),t&&i&&i.end()}}}function Kt(){let t,e;return t=new Gt({}),{c(){rt(t.$$.fragment)},m(n,o){st(t,n,o),e=!0},i(n){e||(V(t.$$.fragment,n),e=!0)},o(n){Z(t.$$.fragment,n),e=!1},d(e){it(t,e)}}}function Qt(t){let e,n,o,r,s,i,a,l,c,u,d,f,m=Math.floor(t[4].current).pad(5)+"",g=(t[0].diamonds-t[0].gotDiamonds).pad(5)+"",h=t[2]&&Jt(t),v=t[3]&&!t[2]&&Kt();return{c(){e=w("style"),e.textContent='@import url("https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap");',n=x(),o=w("div"),r=w("div"),s=w("div"),i=k(m),a=x(),l=w("div"),c=k(g),u=x(),h&&h.c(),d=x(),v&&v.c(),M(s,"class","score svelte-jeasp9"),M(l,"class","togo svelte-jeasp9"),M(r,"class","header svelte-jeasp9"),M(o,"class","container svelte-jeasp9")},m(m,g){p(document.head,e),y(m,n,g),y(m,o,g),p(o,r),p(r,s),p(s,i),p(r,a),p(r,l),p(l,c),p(o,u),h&&h.m(o,null),p(o,d),v&&v.m(o,null),t[6](o),f=!0},p(t,[e]){(!f||16&e)&&m!==(m=Math.floor(t[4].current).pad(5)+"")&&_(i,m),(!f||1&e)&&g!==(g=(t[0].diamonds-t[0].gotDiamonds).pad(5)+"")&&_(c,g),t[2]?h?(h.p(t,e),4&e&&V(h,1)):(h=Jt(t),h.c(),V(h,1),h.m(o,d)):h&&(K(),Z(h,1,1,(()=>{h=null})),Q()),t[3]&&!t[2]?v?12&e&&V(v,1):(v=Kt(),v.c(),V(v,1),v.m(o,null)):v&&(K(),Z(v,1,1,(()=>{v=null})),Q())},i(t){f||(V(h),V(v),f=!0)},o(t){Z(h),Z(v),f=!1},d(r){$(e),r&&$(n),r&&$(o),h&&h.d(),v&&v.d(),t[6](null)}}}function Vt(t,e,n){let o,r;a(t,yt,(t=>n(0,o=t))),Number.prototype.pad=function(t){for(var e=String(this);e.length<(t||2);)e="0"+e;return e};let s,i=pt({current:0,left:0},{stiffness:.01,damping:.9});a(t,i,(t=>n(4,r=t)));let l=!1,c=!1,u=new Array(256).fill(100);for(let t=0;t<256;t++)u[Math.floor(Math.random()*$t*$t)]=200;for(let t=0;t<64;t++)u[Math.floor(Math.random()*$t*$t)]=300;const d=Math.floor(Math.random()*$t*$t);return u[d]=500,bt.set(u),vt.set({x:d%$t,y:Math.floor(d/$t)}),yt.set({diamonds:u.filter((t=>300==t)).length,plants:u.filter((t=>200==t)).length,gotDiamonds:0,gotPlants:0,current:0}),S((()=>{n(3,c=!0),n(1,s.style.height=`${window.innerHeight}px`,s),window.addEventListener("resize",(function(){n(1,s.style.height=`${window.innerHeight}px`,s),kt.set(!0)}))})),t.$$.update=()=>{1&t.$$.dirty&&(i.set({current:o.current,left:o.diamonds-o.gotDiamonds}),o.diamonds-o.gotDiamonds<=0&&n(2,l=!0))},[o,s,l,c,r,i,function(t){C[t?"unshift":"push"]((()=>{s=t,n(1,s)}))}]}return new class extends lt{constructor(t){super(),at(this,t,Vt,Qt,i,{},Wt)}}({target:document.getElementById("overlay")||document.body})}();
//# sourceMappingURL=bundle.js.map
