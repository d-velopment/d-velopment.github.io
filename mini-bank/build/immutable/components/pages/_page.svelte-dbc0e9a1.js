import{S as B,i as M,s as U,k as v,a as D,e as A,I as z,l as g,h as m,c as I,n as E,C as _,b,B as q,o as G,q as N,m as S,r as O,u as k,J,K as T,L as K,M as R,N as P}from"../../chunks/index-a623bc35.js";const j="https://sheetdb.io/api/v1/mzs4zi0dmgs4i",C="sheets_loaded",F=async(c,t)=>{await fetch(`${c}`).then(e=>{if(!e.ok)throw new Error("Bad response from server");return e.json()}).then(e=>{t(e)}).catch(e=>{t(null)})},V=(c,t)=>{const e=c.toLowerCase().trim(),r=`data_${e}`,o=`history_${e}`,s=`time_${e}`;let i=JSON.parse(localStorage.getItem(C))||[],l=JSON.parse(localStorage.getItem(r))||[],a=(Date.now()-Number.parseInt(localStorage.getItem(s)||Date.now()))/(24*60*60*1e3);l.length==0||a>1?F(`${j}?sheet=${c}`,h=>{if(h!==null){console.log("LOADED",h),localStorage.setItem(s,Date.now()),localStorage.setItem(r,JSON.stringify(h[0]));let f=[];h.forEach((n,u)=>{u>0&&f.push({Start:n.Start,Extra:n.Extra,Description:n.Description})}),localStorage.setItem(o,JSON.stringify(f)),i.push(c),localStorage.setItem(C,JSON.stringify(i)),console.log("SAVED.",localStorage),t(!0)}else console.log("NOTHING TO LOAD."),t(!1)}):(console.log("ALREADY LOADED."),t(!0))};function w(c,t,e){const r=c.slice();return r[7]=t[e],r[9]=e,r}function W(c){let t,e,r,o,s,i=c[2][0].Left+"",l,a,h,f=c[2][1].length!==0&&$(c);return{c(){t=v("section"),e=v("h2"),r=N(c[1]),o=D(),s=v("h1"),l=N(i),a=D(),f&&f.c(),h=A(),this.h()},l(n){t=g(n,"SECTION",{class:!0});var u=S(t);e=g(u,"H2",{class:!0});var d=S(e);r=O(d,c[1]),d.forEach(m),o=I(u),s=g(u,"H1",{class:!0});var p=S(s);l=O(p,i),p.forEach(m),u.forEach(m),a=I(n),f&&f.l(n),h=A(),this.h()},h(){E(e,"class","upper-case shadow svelte-1qh8nvm"),E(s,"class","shadow svelte-1qh8nvm"),E(t,"class","svelte-1qh8nvm")},m(n,u){b(n,t,u),_(t,e),_(e,r),_(t,o),_(t,s),_(s,l),b(n,a,u),f&&f.m(n,u),b(n,h,u)},p(n,u){u&2&&k(r,n[1]),u&4&&i!==(i=n[2][0].Left+"")&&k(l,i),n[2][1].length!==0?f?f.p(n,u):(f=$(n),f.c(),f.m(h.parentNode,h)):f&&(f.d(1),f=null)},d(n){n&&m(t),n&&m(a),f&&f.d(n),n&&m(h)}}}function Y(c){let t,e,r,o,s,i,l,a,h,f;return{c(){t=v("section"),e=v("form"),r=v("label"),o=N(`Account
				`),s=v("input"),i=D(),l=v("button"),a=N("GO"),this.h()},l(n){t=g(n,"SECTION",{class:!0});var u=S(t);e=g(u,"FORM",{});var d=S(e);r=g(d,"LABEL",{});var p=S(r);o=O(p,`Account
				`),s=g(p,"INPUT",{class:!0}),p.forEach(m),i=I(d),l=g(d,"BUTTON",{});var L=S(l);a=O(L,"GO"),L.forEach(m),d.forEach(m),u.forEach(m),this.h()},h(){E(s,"class","upper-case svelte-1qh8nvm"),E(t,"class","svelte-1qh8nvm")},m(n,u){b(n,t,u),_(t,e),_(e,r),_(r,o),_(r,s),J(s,c[1]),_(e,i),_(e,l),_(l,a),h||(f=[T(s,"input",c[4]),T(l,"click",c[5]),T(e,"submit",K(c[6]))],h=!0)},p(n,u){u&2&&s.value!==n[1]&&J(s,n[1])},d(n){n&&m(t),h=!1,R(f)}}}function $(c){let t,e,r=c[2][1].reverse(),o=[];for(let s=0;s<r.length;s+=1)o[s]=H(w(c,r,s));return{c(){t=v("section"),e=v("ol");for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){t=g(s,"SECTION",{class:!0});var i=S(t);e=g(i,"OL",{class:!0});var l=S(e);for(let a=0;a<o.length;a+=1)o[a].l(l);l.forEach(m),i.forEach(m),this.h()},h(){E(e,"class","list svelte-1qh8nvm"),E(t,"class","centered svelte-1qh8nvm")},m(s,i){b(s,t,i),_(t,e);for(let l=0;l<o.length;l+=1)o[l].m(e,null)},p(s,i){if(i&4){r=s[2][1].reverse();let l;for(l=0;l<r.length;l+=1){const a=w(s,r,l);o[l]?o[l].p(a,i):(o[l]=H(a),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=r.length}},d(s){s&&m(t),P(o,s)}}}function H(c){let t,e,r=c[7].Extra+"",o,s,i,l=c[7].Start+"",a,h,f=c[7].Description+"",n,u;return{c(){t=v("li"),e=v("h2"),o=N(r),s=D(),i=v("span"),a=N(l),h=N(" / "),n=N(f),u=D(),this.h()},l(d){t=g(d,"LI",{class:!0});var p=S(t);e=g(p,"H2",{class:!0});var L=S(e);o=O(L,r),L.forEach(m),s=I(p),i=g(p,"SPAN",{});var y=S(i);a=O(y,l),h=O(y," / "),n=O(y,f),y.forEach(m),u=I(p),p.forEach(m),this.h()},h(){E(e,"class","headline svelte-1qh8nvm"),E(t,"class","item svelte-1qh8nvm")},m(d,p){b(d,t,p),_(t,e),_(e,o),_(t,s),_(t,i),_(i,a),_(i,h),_(i,n),_(t,u)},p(d,p){p&4&&r!==(r=d[7].Extra+"")&&k(o,r),p&4&&l!==(l=d[7].Start+"")&&k(a,l),p&4&&f!==(f=d[7].Description+"")&&k(n,f)},d(d){d&&m(t)}}}function Q(c){let t,e,r,o;document.title=t=c[0]?c[1].toUpperCase().trim():"Home";function s(a,h){return a[0]?W:Y}let i=s(c),l=i(c);return{c(){e=v("meta"),r=D(),l.c(),o=A(),this.h()},l(a){const h=z("svelte-6eemol",document.head);e=g(h,"META",{name:!0,content:!0}),h.forEach(m),r=I(a),l.l(a),o=A(),this.h()},h(){E(e,"name","description"),E(e,"content","Mini-Bank")},m(a,h){_(document.head,e),b(a,r,h),l.m(a,h),b(a,o,h)},p(a,[h]){h&3&&t!==(t=a[0]?a[1].toUpperCase().trim():"Home")&&(document.title=t),i===(i=s(a))&&l?l.p(a,h):(l.d(1),l=i(a),l&&(l.c(),l.m(o.parentNode,o)))},i:q,o:q,d(a){m(e),a&&m(r),l.d(a),a&&m(o)}}}function X(c,t,e){let r=!1,o="",s=[];const i=f=>{const n=f.toLowerCase().trim();console.log("START LOADING..."),V(n,u=>{u&&(e(2,s=[JSON.parse(localStorage.getItem(`data_${n}`)),JSON.parse(localStorage.getItem(`history_${n}`))]),e(0,r=!0)),console.log(s)})};G(()=>{});function l(){o=this.value,e(1,o)}return[r,o,s,i,l,()=>console.log("button clicked"),()=>i(o)]}class x extends B{constructor(t){super(),M(this,t,X,Q,U,{})}}export{x as default};
