import{S as te,i as le,s as se,k as b,a as A,e as U,I as ae,l as E,h as _,c as J,n as s,C as d,b as I,B as $,o as re,q as C,m as g,r as T,u as B,J as w,K as L,p as j,L as W,M as Y,N as oe,O as ne,P as ie}from"../../chunks/index-47d25441.js";const ce="https://sheetdb.io/api/v1/mzs4zi0dmgs4i",Q="sheets_loaded",ue=async(f,e)=>{await fetch(`${f}`).then(t=>{if(!t.ok)throw new Error("Bad response from server");return t.json()}).then(t=>{e(t)}).catch(t=>{e(null)})},fe=(f,e)=>{const t=f.toLowerCase().trim(),r=`data_${t}`,o=`history_${t}`,a=`time_${t}`;let u=JSON.parse(localStorage.getItem(Q))||[],l=JSON.parse(localStorage.getItem(r))||[],n=(Date.now()-Number.parseInt(localStorage.getItem(a)||Date.now()))/(24*60*60*1e3);l.length==0||n>1?ue(`${ce}?sheet=${f}`,h=>{if(h!==null){console.log("LOADED",h),localStorage.setItem(a,Date.now()),localStorage.setItem(r,JSON.stringify(h[0]));let m=[];h.forEach((i,c)=>{c>0&&m.push({Start:i.Start,Extra:i.Extra,Description:i.Description})}),localStorage.setItem(o,JSON.stringify(m)),u.push(f),localStorage.setItem(Q,JSON.stringify(u)),console.log("SAVED.",localStorage),e(!0)}else console.log("NOTHING TO LOAD."),e(!1)}):(console.log("ALREADY LOADED."),e(!0))};function X(f,e,t){const r=f.slice();return r[7]=e[t],r[9]=t,r}function he(f){let e,t,r,o,a,u=f[3][0].Left+"",l,n,h,m=f[3][1].length!==0&&Z(f);return{c(){e=b("section"),t=b("h2"),r=C(f[2]),o=A(),a=b("h1"),l=C(u),n=A(),m&&m.c(),h=U(),this.h()},l(i){e=E(i,"SECTION",{class:!0});var c=g(e);t=E(c,"H2",{class:!0});var v=g(t);r=T(v,f[2]),v.forEach(_),o=J(c),a=E(c,"H1",{class:!0});var p=g(a);l=T(p,u),p.forEach(_),c.forEach(_),n=J(i),m&&m.l(i),h=U(),this.h()},h(){s(t,"class","upper-case shadow svelte-47c25g"),s(a,"class","shadow svelte-47c25g"),s(e,"class","svelte-47c25g")},m(i,c){I(i,e,c),d(e,t),d(t,r),d(e,o),d(e,a),d(a,l),I(i,n,c),m&&m.m(i,c),I(i,h,c)},p(i,c){c&4&&B(r,i[2]),c&8&&u!==(u=i[3][0].Left+"")&&B(l,u),i[3][1].length!==0?m?m.p(i,c):(m=Z(i),m.c(),m.m(h.parentNode,h)):m&&(m.d(1),m=null)},d(i){i&&_(e),i&&_(n),m&&m.d(i),i&&_(h)}}}function me(f){let e,t,r,o,a,u,l,n,h,m,i,c,v,p,N,S,y,D,x,z;return{c(){e=b("section"),t=b("form"),r=b("fieldset"),o=b("label"),a=b("input"),u=A(),l=b("button"),n=C("üîç"),m=A(),i=b("div"),c=w("svg"),v=w("circle"),p=w("animate"),N=w("circle"),S=w("animate"),y=w("circle"),D=w("animate"),this.h()},l(k){e=E(k,"SECTION",{class:!0});var O=g(e);t=E(O,"FORM",{});var K=g(t);r=E(K,"FIELDSET",{class:!0});var H=g(r);o=E(H,"LABEL",{});var P=g(o);a=E(P,"INPUT",{class:!0}),P.forEach(_),u=J(H),l=E(H,"BUTTON",{class:!0});var R=g(l);n=T(R,"üîç"),R.forEach(_),H.forEach(_),K.forEach(_),m=J(O),i=E(O,"DIV",{class:!0,style:!0});var q=g(i);c=L(q,"svg",{version:!0,id:!0,xmlns:!0,"xmlns:xlink":!0,x:!0,y:!0,viewBox:!0,"enable-background":!0,"xml:space":!0});var M=g(c);v=L(M,"circle",{fill:!0,stroke:!0,cx:!0,cy:!0,r:!0});var F=g(v);p=L(F,"animate",{attributeName:!0,dur:!0,values:!0,repeatCount:!0,begin:!0}),g(p).forEach(_),F.forEach(_),N=L(M,"circle",{fill:!0,stroke:!0,cx:!0,cy:!0,r:!0});var G=g(N);S=L(G,"animate",{attributeName:!0,dur:!0,values:!0,repeatCount:!0,begin:!0}),g(S).forEach(_),G.forEach(_),y=L(M,"circle",{fill:!0,stroke:!0,cx:!0,cy:!0,r:!0});var V=g(y);D=L(V,"animate",{attributeName:!0,dur:!0,values:!0,repeatCount:!0,begin:!0}),g(D).forEach(_),V.forEach(_),M.forEach(_),q.forEach(_),O.forEach(_),this.h()},h(){s(a,"class","upper-case svelte-47c25g"),s(l,"class","svelte-47c25g"),r.disabled=h=f[0]?"disabled":"",s(r,"class","svelte-47c25g"),s(p,"attributeName","opacity"),s(p,"dur","1s"),s(p,"values","0;1;0"),s(p,"repeatCount","indefinite"),s(p,"begin","0.1"),s(v,"fill","#fff"),s(v,"stroke","none"),s(v,"cx","6"),s(v,"cy","50"),s(v,"r","6"),s(S,"attributeName","opacity"),s(S,"dur","1s"),s(S,"values","0;1;0"),s(S,"repeatCount","indefinite"),s(S,"begin","0.2"),s(N,"fill","#fff"),s(N,"stroke","none"),s(N,"cx","26"),s(N,"cy","50"),s(N,"r","6"),s(D,"attributeName","opacity"),s(D,"dur","1s"),s(D,"values","0;1;0"),s(D,"repeatCount","indefinite"),s(D,"begin","0.3"),s(y,"fill","#fff"),s(y,"stroke","none"),s(y,"cx","46"),s(y,"cy","50"),s(y,"r","6"),s(c,"version","1.1"),s(c,"id","L4"),s(c,"xmlns","http://www.w3.org/2000/svg"),s(c,"xmlns:xlink","http://www.w3.org/1999/xlink"),s(c,"x","0px"),s(c,"y","0px"),s(c,"viewBox","0 0 52 100"),s(c,"enable-background","new 0 0 0 0"),s(c,"xml:space","preserve"),s(i,"class","loader svelte-47c25g"),j(i,"display",f[0]?"block":"none"),s(e,"class","svelte-47c25g")},m(k,O){I(k,e,O),d(e,t),d(t,r),d(r,o),d(o,a),W(a,f[2]),d(r,u),d(r,l),d(l,n),d(e,m),d(e,i),d(i,c),d(c,v),d(v,p),d(c,N),d(N,S),d(c,y),d(y,D),x||(z=[Y(a,"input",f[5]),Y(t,"submit",oe(f[6]))],x=!0)},p(k,O){O&4&&a.value!==k[2]&&W(a,k[2]),O&1&&h!==(h=k[0]?"disabled":"")&&(r.disabled=h),O&1&&j(i,"display",k[0]?"block":"none")},d(k){k&&_(e),x=!1,ne(z)}}}function Z(f){let e,t,r=f[3][1].reverse(),o=[];for(let a=0;a<r.length;a+=1)o[a]=ee(X(f,r,a));return{c(){e=b("section"),t=b("ol");for(let a=0;a<o.length;a+=1)o[a].c();this.h()},l(a){e=E(a,"SECTION",{class:!0});var u=g(e);t=E(u,"OL",{class:!0});var l=g(t);for(let n=0;n<o.length;n+=1)o[n].l(l);l.forEach(_),u.forEach(_),this.h()},h(){s(t,"class","list svelte-47c25g"),s(e,"class","centered svelte-47c25g")},m(a,u){I(a,e,u),d(e,t);for(let l=0;l<o.length;l+=1)o[l].m(t,null)},p(a,u){if(u&8){r=a[3][1].reverse();let l;for(l=0;l<r.length;l+=1){const n=X(a,r,l);o[l]?o[l].p(n,u):(o[l]=ee(n),o[l].c(),o[l].m(t,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=r.length}},d(a){a&&_(e),ie(o,a)}}}function ee(f){let e,t,r=f[7].Extra+"",o,a,u,l=f[7].Start+"",n,h,m=f[7].Description+"",i,c;return{c(){e=b("li"),t=b("h2"),o=C(r),a=A(),u=b("span"),n=C(l),h=C(" / "),i=C(m),c=A(),this.h()},l(v){e=E(v,"LI",{class:!0});var p=g(e);t=E(p,"H2",{class:!0});var N=g(t);o=T(N,r),N.forEach(_),a=J(p),u=E(p,"SPAN",{});var S=g(u);n=T(S,l),h=T(S," / "),i=T(S,m),S.forEach(_),c=J(p),p.forEach(_),this.h()},h(){s(t,"class","headline svelte-47c25g"),s(e,"class","item svelte-47c25g")},m(v,p){I(v,e,p),d(e,t),d(t,o),d(e,a),d(e,u),d(u,n),d(u,h),d(u,i),d(e,c)},p(v,p){p&8&&r!==(r=v[7].Extra+"")&&B(o,r),p&8&&l!==(l=v[7].Start+"")&&B(n,l),p&8&&m!==(m=v[7].Description+"")&&B(i,m)},d(v){v&&_(e)}}}function de(f){let e,t,r,o;document.title=e=f[1]?f[2].toUpperCase().trim():"Home";function a(n,h){return n[1]?he:me}let u=a(f),l=u(f);return{c(){t=b("meta"),r=A(),l.c(),o=U(),this.h()},l(n){const h=ae("svelte-6eemol",document.head);t=E(h,"META",{name:!0,content:!0}),h.forEach(_),r=J(n),l.l(n),o=U(),this.h()},h(){s(t,"name","description"),s(t,"content","Mini-Bank")},m(n,h){d(document.head,t),I(n,r,h),l.m(n,h),I(n,o,h)},p(n,[h]){h&6&&e!==(e=n[1]?n[2].toUpperCase().trim():"Home")&&(document.title=e),u===(u=a(n))&&l?l.p(n,h):(l.d(1),l=u(n),l&&(l.c(),l.m(o.parentNode,o)))},i:$,o:$,d(n){_(t),n&&_(r),l.d(n),n&&_(o)}}}function _e(f,e,t){let r=!1,o=!1,a="",u=[];const l=m=>{setTimeout(()=>{o||(t(0,r=!1),t(2,a=""))},5e3);const i=m.toLowerCase().trim();console.log("START LOADING..."),fe(i,c=>{c&&(t(3,u=[JSON.parse(localStorage.getItem(`data_${i}`)),JSON.parse(localStorage.getItem(`history_${i}`))]),t(1,o=!0))})};re(()=>{});function n(){a=this.value,t(2,a)}return[r,o,a,u,l,n,()=>{t(0,r=!0),l(a)}]}class ve extends te{constructor(e){super(),le(this,e,_e,de,se,{})}}export{ve as default};
